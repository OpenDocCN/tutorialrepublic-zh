# SQL LIKE 运算符

> 原文:[https://www . tutorial Republic . com/SQL-tutorial/SQL-like-operator . PHP](https://www.tutorialrepublic.com/sql-tutorial/sql-like-operator.php)

在本教程中，您将学习如何基于部分匹配检索数据。

## 模式匹配

到目前为止，您已经看到了识别精确字符串的条件，例如`WHERE name='Lois Lane'`。但是在 SQL 中，您也可以使用`LIKE`操作符执行部分匹配或模式匹配。

`LIKE`操作符允许您为一个或多个字符指定通配符，从而提供了一种模式匹配的方法。您可以使用以下两个通配符:

*   百分号(`%` ) —匹配任意数量的字符，甚至是零个字符。
*   下划线(`_` ) —仅匹配一个字符

这里有一些例子展示了如何将`LIKE`操作符与通配符结合使用。

| 声明 | 意义 | 返回值 |
| --- | --- | --- |
| `WHERE name LIKE 'Da%'` | 查找以 *Da* 开头的姓名 | 戴维·戴维森 |
| `WHERE name LIKE '%th'` | 查找以第*个*结尾的名字 | 史密斯·伊丽莎白 |
| `WHERE name LIKE '%on%'` | 在上查找包含*的名称* | 托尼·戴维森 |
| `WHERE name LIKE 'Sa_'` | 查找以 *Sa* 开头的名称，后面最多跟一个字符 | 萨姆（男子名） |
| `WHERE name LIKE '_oy'` | 查找以 *oy* 结尾并且前面最多有一个字符的名称 | 乔伊，罗伊 |
| `WHERE name LIKE '_an_'` | 查找包含*和*的名称，并且以最多一个字符开始和结束 | Dana, Hans |
| `WHERE name LIKE '%ar_'` | 查找包含 *ar* 的名称，以任意数量的字符开始，最多以一个字符结束 | 卡尔·理查德 |
| `WHERE name LIKE '_ar%'` | 查找包含 *ar* 的名称，最多以一个字符开始，以任意数量的字符结束 | 玛利亚·卡尔 |

让我们通过搜索一些记录将上面讨论的陈述付诸实际使用。

假设我们的数据库中有一个包含以下记录的*雇员*表:

```
+--------+------------------+------------+--------+---------+
| emp_id | emp_name         | hire_date  | salary | dept_id |
+--------+------------------+------------+--------+---------+
|      1 | Ethan Hunt       | 2001-05-01 |   5000 |       4 |
|      2 | Tony Montana     | 2002-07-15 |   6500 |       1 |
|      3 | Sarah Connor     | 2005-10-18 |   8000 |       5 |
|      4 | Rick Deckard     | 2007-01-03 |   7200 |       3 |
|      5 | Martin Blank     | 2008-06-24 |   5600 |    NULL |
|      6 | simons bistro    | 2009-04-01 |   6000 |       1 |
+--------+------------------+------------+--------+---------+

```

现在，假设您想要找出姓名以字母 S 开头的所有雇员。

#### 例子

[Try this code »](../codelab.php?topic=sql&file=pattern-matching-with-like-operator "Try this code using online Editor")

```
SELECT * FROM employees 
WHERE emp_name LIKE 'S%';
```

执行查询后，您将得到类似如下的输出:

```
+--------+------------------+------------+--------+---------+
| emp_id | emp_name         | hire_date  | salary | dept_id |
+--------+------------------+------------+--------+---------+
|      3 | Sarah Connor     | 2005-10-18 |   8000 |       5 |
|      6 | simons bistro    | 2009-04-01 |   6000 |       1 |
+--------+------------------+------------+--------+---------+

```

在 MySQL 中，非二进制字符串(`CHAR`、`VARCHAR`、`TEXT`)的比较默认是不区分大小写的，而二进制字符串(`BINARY`、`VARBINARY`、`BLOB`)的比较是区分大小写的。

这意味着如果您使用`WHERE name LIKE 'S%'`进行搜索，您会得到所有以 S 或 S 开头的列值(正如您所看到的，我们得到了“Sarah”和“simons”)。但是，如果您想使这个搜索区分大小写，您可以使用如下的`BINARY`操作符:

#### 例子

[Try this code »](javascript:void(0); "Not Supported in Web SQL")

```
-- Syntax for MySQL Database 
SELECT * FROM employees 
WHERE BINARY emp_name LIKE 'S%';
```

现在，该语句将只返回那些姓名以大写字母 S 开头的雇员:

```
+--------+------------------+------------+--------+---------+
| emp_id | emp_name         | hire_date  | salary | dept_id |
+--------+------------------+------------+--------+---------+
|      3 | Sarah Connor     | 2005-10-18 |   8000 |       5 |
+--------+------------------+------------+--------+---------+

```

 ***注意:**如果您希望一个列总是以区分大小写的方式被处理，那么使用区分大小写或二进制排序规则来声明它，以避免任何性能问题。*  ****提示:**当您不知道要搜索的字符串的确切形式时，部分匹配非常有用。您还可以使用部分匹配来检索在表的某一列中包含相似字符串的多行。**